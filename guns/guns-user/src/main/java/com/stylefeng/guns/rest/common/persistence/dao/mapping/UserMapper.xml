<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.stylefeng.guns.rest.common.persistence.dao.UserMapper">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.stylefeng.guns.rest.common.persistence.model.User">
		<id column="id" property="id" />
		<result column="userName" property="userName" />
	</resultMap>
	<select id="checkUsername" resultType="java.lang.String">
		select user_name FROM mtime_user_t where user_name = #{username}
	</select>
	<update id="updateUserInfo">
		update mtime_user_t set uuid = #{userInfoVo.uuid}, nick_name = #{userInfoVo.nickname},
		email = #{userInfoVo.email}, user_phone = #{userInfoVo.phone}, user_sex = #{userInfoVo.sex},
		birthday = #{userInfoVo.birthday}, life_state = #{userInfoVo.lifeState},
		biography = #{userInfoVo.biography}, address = #{userInfoVo.address}
	</update>
	<select id="queryUserInfo" resultType="com.stylefeng.guns.rest.user.vo.UserInfoVo">
		select * from mtime_user_t where uuid = #{uuid}
	</select>

</mapper>
